Sonar V2 GraphQL API Documentation

Overview

•
Title: Sonar GraphQL Documentation

•
Description: Reference guide to Sonar's powerful GraphQL API

•
URL: https://api.sonar.software

•
Version: v2

Schema Structure

The GraphQL schema contains:

•
Query: Root query type for data retrieval

•
Mutation: Root mutation type for data modification

Available Scalars

The following scalar types are available:

•
Base64Clob

•
Boolean

•
Clob

•
Date

•
Datetime

•
DomainName

•
EmailAddress

•
EpochTimestamp

•
Float

Detailed Documentation

Query Type

The Query type provides access to various data retrieval operations:

access_logs

Retrieves all access logs for entities with the following parameters:

•
id: The ID of the entity (IntegerID)

•
sonar_unique_id: An ID that uniquely identifies this entity across the whole Sonar system (String)

•
created_at: The date and time this entity was created (Datetime)

•
updated_at: The last date and time this entity was modified (Datetime)

•
_version: A string that shows the version of this entity (String)

•
access_datetime: The date and time that this entity was accessed (Datetime)

•
accessloggable_id: The ID of the entity that this access log belongs to (IntegerID)

•
accessloggable_type: The entity that this access log belongs to (String)

•
entity_id: The ID of the entity that this access log belongs to (IntegerID)

•
entity_name: The entity that this access log belongs to (String)

•
user_id: The ID of the user that accessed this entity (IntegerID)

•
paginator: Provides the ability to paginate through results (Paginator)

•
sorter: Provides the ability to sort results (Sorter)

•
search: Complex search parameters (Search)

•
general_search: Search across all string fields with partial matching (String)

•
general_search_mode: The mode to use for general search requests (GeneralSearchMode)

•
aggregation: Provides the ability to return aggregated mathematical data about your results (Aggregation)

•
reverse_relation_filters: Reverse relation filters allow you to filter the result of a relation (ReverseRelationFilter)

Returns: AccessLogConnection

Account Adtran Mosaic Service Details

Parameters include:

•
id: The ID of the entity (IntegerID)

•
sonar_unique_id: An ID that uniquely identifies this entity across the whole Sonar system (String)

•
created_at: The date and time this entity was created (Datetime)

•
updated_at: The last date and time this entity was modified (Datetime)

•
_version: A string that shows the version of this entity (String)

•
account_service_id: The ID of an AccountService (IntegerID)

•
adtran_mosaic_setting_id: The ID of an Adtran Mosaic setting (IntegerID)

•
downlink_inner_tag_vlan: The name of the Adtran Mosaic downlink inner tag vlan (String)

•
downlink_interface_name: The name of the Adtran Mosaic downlink interface (String)

•
downlink_outer_tag_vlan: The name of the Adtran Mosaic downlink outer tag vlan (String)

•
uplink_content_provider_name: The name of the Adtran Mosaic content provider (String)

•
uplink_inner_tag_vlan: The name of the Adtran Mosaic uplink inner tag vlan (String)

•
uplink_outer_tag_vlan: The name of the Adtran Mosaic uplink outer tag vlan (String)

account_adtran_mosaic_service_details

Retrieves Account Adtran Mosaic service details with parameters:

•
id: The ID of the entity (IntegerID)

•
sonar_unique_id: An ID that uniquely identifies this entity (String)

•
created_at: The date and time this entity was created (Datetime)

•
updated_at: The last date and time this entity was modified (Datetime)

•
_version: A string that shows the version of this entity (String)

•
account_service_id: The ID of an AccountService (IntegerID)

•
adtran_mosaic_setting_id: The ID of an Adtran Mosaic setting (IntegerID)

•
downlink_inner_tag_vlan: The name of the Adtran Mosaic downlink inner tag vlan (String)

•
downlink_interface_name: The name of the Adtran Mosaic downlink interface (String)

•
downlink_outer_tag_vlan: The name of the Adtran Mosaic downlink outer tag vlan (String)

•
uplink_content_provider_name: The name of the Adtran Mosaic content provider (String)

•
uplink_inner_tag_vlan: The name of the Adtran Mosaic uplink inner tag vlan (String)

•
uplink_outer_tag_vlan: The name of the Adtran Mosaic uplink outer tag vlan (String)

•
paginator: Provides the ability to paginate through results (Paginator)

•
sorter: Provides the ability to sort results (Sorter)

•
search: Complex search parameters (Search)

•
general_search: Search across all string fields with partial matching (String)

•
general_search_mode: The mode to use for general search requests (GeneralSearchMode)

•
aggregation: Provides the ability to return aggregated mathematical data (Aggregation)

•
reverse_relation_filters: Reverse relation filters (ReverseRelationFilter)

Returns: AccountAdtranMosaicServiceDetailConnection

Account Billing Parameters

Parameters for account billing queries include:

•
id: The ID of the entity (IntegerID)

•
sonar_unique_id: An ID that uniquely identifies this entity (String)

•
created_at: The date and time this entity was created (Datetime)

•
updated_at: The last date and time this entity was modified (Datetime)

•
_version: A string that shows the version of this entity (String)

•
account_id: The ID of an Account (IntegerID)

•
aggregate_invoice_taxes: Whether or not to aggregate invoice taxes instead of printing with each charge (Boolean)

•
aggregate_linked_debits: Whether or not to aggregate linked debits on Anchor invoices (Boolean)

•
anchor_delinquency_logic: Determines if delinquency settings on an Anchor default is applied only to the Anchor account or the Linked accounts as well (Boolean)

•
auto_pay_day: If 'invoice_day' is not null, this allows you to select whether 'auto_pay_days' is calculated from the billing day, or the invoice day (String)

•
auto_pay_days: The number of days after 'auto_pay_day' that autopay runs for an invoice (Integer)

Mutation Type

The Mutation type provides operations for modifying data. Key mutations include:

addInstanceServiceFunds

•
Description: Make additional funds available to the instance service fund

•
Input: AddInstanceServiceFundsMutationInput

•
Returns: InstanceServiceFunds!

addPackageToAccount

•
Description: Add a package to an account

•
Input: AddPackageToAccountMutationInput

•
Returns: [AccountService]

addServiceToAccount

•
Description: Add a recurring or expiring service to an account

•
Input: AddServiceToAccountMutationInput

•
Returns: AccountService

allocateLookerExploreLicenseToUser

•
Description: Allocate a report builder license to a user

•
Input: AllocateLookerExploreLicenseToUserMutationInput

•
Returns: LookerExploreLicense

allocateLookerViewLicenseToUser

•
Description: Allocate a report viewer license to a user

•
Input: AllocateLookerViewLicenseToUserMutationInput

•
Returns: LookerViewLicense

applyCreditToInvoice

•
Description: Apply a credit to an invoice with a due balance

•
Input: ApplyCreditToInvoiceMutationInput

•
Parameters: id (Int64Bit!) - The ID of an Invoice

•
Returns: Invoice

archiveAccount

•
Description: Archive an account

•
Parameters: id (Int64Bit!) - The ID of the entity

•
Returns: Account

assignGenericInventoryItems

•
Description: Assign generic inventory items to an assignee

•
Input: AssignGenericInventoryItemsMutationInput

•
Parameters: id (Int64Bit!) - fields.generic_inventory_item_id

•
Returns: GenericInventoryItem

assignInventoryItems

•
Description: Assign one or more inventory items to a new assignee

•
Input: AssignInventoryItemsMutationInput

•
Parameters: ids ([Int64Bit!]!) - The ID of an InventoryItem

•
Returns: [InventoryItem]

auditAdtranMosaic

•
Description: Perform manual Adtran Mosaic audit

•
Input: AuditAdtranMosaicMutationInput

•
Returns: AdtranMosaicSetting

auditCalixCloud

•
Description: Audit Calix Cloud subscribers to Sonar accounts

•
Input: AuditCalixCloudMutationInput

•
Returns: CalixCloudSetting

auditRepairAdtranMosaic

•
Description: Perform manual repair of Adtran Mosaic Cloud audit entries

•
Parameters: id (Int64Bit!) - The ID of an Adtran Mosaic audit record

•
Returns: SuccessResponse

cancelPrintToMailBatch

•
Description: Cancel a print to mail batch

•
Parameters: id (Int64Bit!) - The ID of the print to mail batch

•
Returns: SuccessResponse

checkInToJob

•
Description: Check in to a job

•
Input: CheckInToJobMutationInput

•
Returns: JobCheckIn

checkOutOfJob

•
Description: Check out of a job

•
Input: CheckOutOfJobMutationInput

•
Returns: JobCheckIn

claimInventoryItems

•
Description: Claim one or many inventory items

•
Input: ClaimInventoryItemsMutationInput

•
Returns: SuccessResponse

completeFileTask

•
Description: Complete a task that requires a file for a completion type

•
Input: CompleteFileTaskMutationInput

•
Parameters: id (Int64Bit!) - The ID of the entity

•
Returns: Task

completeJob

•
Description: Complete a job

•
Input: CompleteJobMutationInput

•
Returns: Job

completeTask

•
Description: Complete or uncomplete a task

•
Input: CompleteTaskMutationInput

•
Parameters: id (Int64Bit!) - The ID of the entity

•
Returns: Task

consumeGenericInventoryItems

•
Description: Consume generic inventory items

•
Input: ConsumeGenericInventoryItemsMutationInput

•
Parameters: id (Int64Bit!) - fields.generic_inventory_item_id

•
Returns: GenericInventoryItem

createAccessLog

•
Description: Create an access log entry on an entity for the current user

•
Input: CreateAccessLogMutationInput

•
Returns: AccessLog

createAccount

•
Description: Create a new account

•
Input: CreateAccountMutationInput

•
Returns: Account

createAccountAdjustmentTransaction

•
Description: Create a one time transaction from an adjustment service for an account

•
Input: CreateAccountAdjustmentTransactionMutationInput

•
Returns: TransactionInterface

createAccountAdtranMosaicServiceDetail

•
Description: Create account Adtran Mosaic service details

•
Input: CreateAccountAdtranMosaicServiceDetailMutationInput

•
Returns: AccountAdtranMosaicServiceDetail

createAccountCalixServiceDetail

•
Description: Create an account calix service detail

•
Input: CreateAccountCalixServiceDetailMutationInput

•
Returns: AccountCalixServiceDetail

createAccountGroup

•
Description: Create a new account group

•
Input: CreateAccountGroupMutationInput

•
Returns: AccountGroup

createAccountOneTimeTransaction

•
Description: Create a one time transaction for an account

•
Input: CreateAccountOneTimeTransactionMutationInput

•
Returns: [TransactionInterface]

createAccountStatus

•
Description: Create a new account status

•
Input: CreateAccountStatusMutationInput

•
Returns: AccountStatus

createAccountType

•
Description: Create a new account type

•
Input: CreateAccountTypeMutationInput

•
Returns: AccountType

createAchBatch

•
Description: Create a new ACH batch

•
Input: CreateAchBatchMutationInput

•
Returns: [AchBatch]!

createAddressList

•
Description: Create an address list

•
Input: CreateAddressListMutationInput

•
Returns: AddressList

createAddressStatus

•
Description: Create a new address status

•
Input: CreateAddressStatusMutationInput

•
Returns: AddressStatus

createAdjustmentService

•
Description: Create a new adjustment service

•
Input: CreateAdjustmentServiceMutationInput

•
Returns: Service

createAdtranMosaicSetting

•
Description: Create Adtran Mosaic settings

•
Input: CreateAdtranMosaicSettingMutationInput

•
Returns: AdtranMosaicSetting

createAlertingRotation

•
Description: Create a new alerting rotation

•
Input: CreateAlertingRotationMutationInput

•
Returns: AlertingRotation

createAlertingRotationDay

•
Description: Create a new alerting rotation day

•
Input: CreateAlertingRotationDayMutationInput

•
Returns: AlertingRotationDay

createApplicationFirewallRule

•
Description: Create a new application firewall rule

•
Input: CreateApplicationFirewallRuleMutationInput

•
Returns: ApplicationFirewallRule

Note: This is a partial list. The complete mutation list contains many more operations for creating, updating, and managing various entities in the Sonar system.

Scalar Types

The Sonar GraphQL API defines several custom scalar types:

Base64Clob

•
Description: A string with a maximum length of 100000 characters

•
Usage: Used for storing large text content in base64 encoding

Boolean

•
Description: Standard GraphQL Boolean type

•
Usage: True/false values

Clob

•
Description: Character Large Object for storing large text data

•
Usage: Large text fields

Date

•
Description: Date representation

•
Usage: Date-only values without time

Datetime

•
Description: A date and time string in ISO8601 format

•
Format: e.g., 2017-01-01T12:33:12+04:00

•
Usage: Timestamp fields throughout the API

DomainName

•
Description: Domain name validation scalar

•
Usage: Domain name fields

EmailAddress

•
Description: Email address validation scalar

•
Usage: Email fields with validation

EpochTimestamp

•
Description: Unix timestamp representation

•
Usage: Timestamp fields in epoch format

Float

•
Description: Standard GraphQL Float type

•
Usage: Decimal numbers

Geopoint

•
Description: Geographic coordinate representation

•
Usage: Location-based fields

HtmlHexColor

•
Description: HTML hex color code validation

•
Usage: Color fields

HttpsUrl

•
Description: HTTPS URL validation scalar

•
Usage: Secure URL fields

ID

•
Description: Standard GraphQL ID type

•
Usage: Unique identifiers

Int

•
Description: Standard GraphQL Integer type

•
Usage: Integer numbers

Int64Bit

•
Description: 64-bit integer type

•
Usage: Large integer values, commonly used for entity IDs

IP

•
Description: IP address validation scalar

•
Usage: IP address fields

IpRange

•
Description: IP address range representation

•
Usage: Network range fields

Latitude

•
Description: Latitude coordinate validation

•
Usage: Geographic latitude values

Longitude

•
Description: Longitude coordinate validation

•
Usage: Geographic longitude values

MacAddress

•
Description: MAC address validation scalar

•
Usage: Network hardware address fields

Key Object Types

Based on the exploration, the API includes numerous object types such as:

•
AccessLog: An access log history on an entity

•
AccessloggableInterface: An entity that has AccessLog entries associated with it

•
Account: A customer account

•
AccountAdtranMosaicServiceDetail: An account Adtran Mosaic service detail

•
AccountBillingParameter: Parameters that define the billing settings for an Account

•
AccountCalixServiceDetail: Holds information for provisioning service on Calix devices

•
AccountEvent: A tracked event that has occurred for an Account

•
AccountGroup: An account group

•
AccountService: The relationship between an Account and a Service

•
AccountStatus: The status of an account

API Features

Pagination

The API supports pagination through the paginator parameter available on many queries, allowing efficient handling of large result sets.

Sorting

Results can be sorted using the sorter parameter available on queries.

Search Capabilities

•
Complex Search: Available through the search parameter for advanced filtering

•
General Search: Available through general_search parameter for simple text-based searching across string fields

•
General Search Mode: Configurable search behavior through general_search_mode

Aggregation

Mathematical aggregation of results is available through the aggregation parameter.

Reverse Relation Filters

The API supports reverse_relation_filters to filter results based on related entities.

Versioning

Entities include a _version field that tracks entity modifications for optimistic locking.

Common Patterns

Entity Identification

Most entities include:

•
id: The primary ID of the entity (Int64Bit)

•
sonar_unique_id: A unique identifier across the entire Sonar system (String)

Timestamps

Most entities include:

•
created_at: Entity creation timestamp (Datetime)

•
updated_at: Last modification timestamp (Datetime)

Mutation Input Types

Mutations typically use dedicated input types following the pattern {Operation}{Entity}MutationInput.

Authentication and Authorization

The API appears to support user-based access control, as evidenced by user-specific operations and access logging functionality.

Integration Capabilities

The API supports integration with various third-party systems including:

•
Adtran Mosaic

•
Calix Cloud

•
Looker (for reporting and analytics)

•
ACH processing

•
Print-to-mail services

This comprehensive GraphQL API provides extensive functionality for managing telecommunications and ISP operations, including customer accounts, services, billing, inventory, network management,

